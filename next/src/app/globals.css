@import 'tailwindcss';

@config '../../tailwind.config.ts';

/*
  The default border color has changed to `currentcolor` in Tailwind CSS v4,
  so we've added these compatibility styles to make sure everything still
  looks the same as it did with Tailwind CSS v3.

  If we ever want to remove these styles, we need to add an explicit border
  color utility to any element that depends on these defaults.
*/
@layer base {
  *,
  ::after,
  ::before,
  ::backdrop,
  ::file-selector-button {
    border-color: var(--color-gray-200, currentcolor);
  }
}

@layer base {
	:root {
		--background: 0 0% 98%;
		--foreground: 222.2 84% 4.9%;

		--card: 0 0% 100%;
		--card-foreground: 222.2 84% 4.9%;

		--popover: 0 0% 100%;
		--popover-foreground: 222.2 84% 4.9%;

		--primary: 222.2 47.4% 11.2%;
		--primary-foreground: 210 40% 98%;

		--secondary: 210 40% 96.1%;
		--secondary-foreground: 222.2 47.4% 11.2%;

		--muted: 210 40% 96.1%;
		--muted-foreground: 215.4 16.3% 46.9%;

		--accent: 210 40% 96.1%;
		--accent-foreground: 222.2 47.4% 11.2%;

		--destructive: 0 84.2% 60.2%;
		--destructive-foreground: 210 40% 98%;

		--border: 214.3 31.8% 91.4%;
		--input: 214.3 31.8% 91.4%;
		--ring: 222.2 84% 4.9%;

		--radius: 0.5rem;
	}

	.dark {
		--background: 240 10% 4%;
		--foreground: 210 40% 98%;

		--card: 240 10% 5%;
		--card-foreground: 210 40% 98%;

		--popover: 240 10% 5%;
		--popover-foreground: 210 40% 98%;

		--primary: 210 40% 98%;
		--primary-foreground: 222.2 47.4% 11.2%;

		--secondary: 240 10% 10%;
		--secondary-foreground: 210 40% 98%;

		--muted: 240 10% 10%;
		--muted-foreground: 215 20.2% 65.1%;

		--accent: 240 10% 10%;
		--accent-foreground: 210 40% 98%;

		--destructive: 0 62.8% 30.6%;
		--destructive-foreground: 210 40% 98%;

		--border: 240 10% 15%;
		--input: 240 10% 15%;
		--ring: 212.7 26.8% 83.9%;
	}
}

@layer base {
	* {
		@apply border-border;
	}
	body {
		@apply bg-background text-foreground;
		font-family: "Inter", "BIZ UDPGothic", sans-serif;
	}
	.input-rays,
	.input-rays-dark {
		clip-path: polygon(0 0, 46% 45%, 45% 55%, 0 100%);
		background: repeating-conic-gradient(
			from 0deg at 50% center,
			currentColor 0deg,
			currentColor 0.5deg,
			transparent 0.5deg,
			transparent 3deg
		);

		color: rgba(0, 0, 0, 0.4); /* ライト */
	}
	.input-rays-dark {
		color: rgba(255, 255, 255, 0.3);
	} /* ダーク */

	/* ----- 右 (出力) ----- */
	.output-rays {
		clip-path: polygon(54% 0, 100% 0, 100% 100%, 54% 100%);
		/* 赤 */
		background: repeating-conic-gradient(
				from -45deg at 50% center,
				rgba(255, 0, 0, 0.5) 0deg,
				rgba(255, 0, 0, 0.5) 1deg,
				transparent 1deg,
				transparent 20deg
			),
			repeating-conic-gradient(
				from 0deg at 50% center,
				rgba(0, 255, 0, 0.5) 0deg,
				rgba(0, 255, 0, 0.5) 1deg,
				transparent 1deg,
				transparent 20deg
			),
			repeating-conic-gradient(
				from 45deg at 50% center,
				rgba(0, 100, 255, 0.5) 0deg,
				rgba(0, 100, 255, 0.5) 1deg,
				transparent 1deg,
				transparent 20deg
			);
	}
}

.ProseMirror p.is-editor-empty:first-child::before {
	color: #adb5bd;
	content: attr(data-placeholder);
	float: left;
	height: 0;
	pointer-events: none;
}

.prose {
	word-break: break-word;
}

.prose blockquote p::before,
.prose blockquote p::after {
	content: none !important;
}

.tippy-box[data-theme="custom-transparent"] {
	@apply rounded-lg border bg-background shadow-md p-1;
}

body.virtual-keyboard-shown {
	margin-top: var(--visual-viewport-offset-top, 0px);
}

.toc-link {
	@apply no-underline!;
	@apply whitespace-pre-wrap;
	@apply block;
	@apply mb-3;
	@apply leading-tight;
}
.toc-link:before {
	@apply hidden!;
}

.toc-link:hover {
	@apply underline!;
}

.toc-list {
	@apply text-slate-400;
}

.is-active-link {
	@apply text-primary!;
}

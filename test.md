# test

単体テスト方針（古典学派）
ドメインの振る舞いを最優先でテスト
ユースケースの意味やビジネスルールが崩れないことを確認する。実装詳細ではなく入力→出力の振る舞いにフォーカス。
本物の依存を使う / 過剰モックしない
可能な限り実際のクラスや値を渡す。テストダブルは外部システムなど必要最小限に限定。
テストコードは短く・簡潔に
Arrange/Act/Assertを小さくまとめ、可読性を重視。重複はヘルパーに切り出し、不要な抽象化は避ける。
4つの柱を常に満たす
退行防止、リファクタリング耐性、素早いフィードバック、保守のしやすさ。
アンチパターンを避ける
プライベート実装の直接テスト・テスト同士の依存・テストのための本体改変は禁止。
シナリオ駆動でテスト名を付ける
「条件→行動→結果」を名前で表現し、失敗時の意図が一目でわかるようにする。

## テストファイルの配置

テストファイルは、テスト対象のファイルと同じ階層に配置する。`test`フォルダは作成しない。
- 例: `domain/parse-dir-segment.ts` のテストは `domain/parse-dir-segment.test.ts` に配置する
- テストファイル名は `{対象ファイル名}.test.ts` の形式とする

